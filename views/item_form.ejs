<% layout('layout') %>
<h1><%= item.id ? 'Edit Item' : 'New Item' %></h1>
<form action="<%= action %>" method="POST">
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" name="name" class="form-control" value="<%= item.name || '' %>" required />
  </div>
  <div class="mb-3">
    <label class="form-label">Description</label>
    <textarea name="description" class="form-control"><%= item.description || '' %></textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">Price</label>
    <input type="number" step="0.01" name="price" class="form-control" value="<%= item.price || '' %>" required />
  </div>
  <div class="mb-3">
    <label class="form-label">Stock Quantity</label>
    <input type="number" name="stock_quantity" class="form-control" value="<%= item.stock_quantity || '' %>" required />
  </div>
  <div class="mb-3">
    <label class="form-label">Category</label>
    <select name="category_id" class="form-select" required>
      <% categories.forEach(category => { %>
        <option value="<%= category.id %>" <%= item.category_id == category.id ? 'selected' : '' %>><%= category.name %></option>
      <% }) %>
    </select>
  </div>
  <button type="submit" class="btn btn-success">Save</button>
  <a href="/items" class="btn btn-secondary">Cancel</a>
</form>